# Data

Package data provides implementations for data.

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# data

```go
import "github.com/conneroisu/conneroh.com/internal/data"
```

Package data provides the data structures and methods for the data that is stored in the database. This package also provides the connection functionality to the database.

Package data provides implementations for data.

## Index

- [type Config](<#Config>)
- [type Database](<#Database>)
  - [func NewDb\[Q master.Queries\]\(newFunc func\(generic.DBTX\) \*Q, config \*Config\) \(\*Database\[Q\], error\)](<#NewDb>)
  - [func \(d \*Database\[Q\]\) Close\(\) error](<#Database[Q].Close>)


<a name="Config"></a>
## type [Config](<https://github.com/conneroisu/conneroh.com/blob/main/internal/data/databases.go#L36-L41>)

Config is a struct that holds the configuration for a database.

```go
type Config struct {
    Schema   string
    URI      string
    FileName string
    Seed     string
}
```

<a name="Database"></a>
## type [Database](<https://github.com/conneroisu/conneroh.com/blob/main/internal/data/databases.go#L28-L33>)

Database is a struct that holds the sql database and the queries. It uses generics to hold the appropriate type of query struct.

```go
type Database[
    T master.Queries,
] struct {
    Queries *T
    DB      *sql.DB
}
```

<a name="NewDb"></a>
### func [NewDb](<https://github.com/conneroisu/conneroh.com/blob/main/internal/data/databases.go#L47-L52>)

```go
func NewDb[Q master.Queries](newFunc func(generic.DBTX) *Q, config *Config) (*Database[Q], error)
```

NewDb sets up the database using the URI and optional options. Using generics to return the appropriate type of query struct, it creates a new database struct with the sql database and the queries struct utilizing the URI and optional options provided.

<a name="Database[Q].Close"></a>
### func \(\*Database\[Q\]\) [Close](<https://github.com/conneroisu/conneroh.com/blob/main/internal/data/databases.go#L144>)

```go
func (d *Database[Q]) Close() error
```

Close closes the database connection.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->
